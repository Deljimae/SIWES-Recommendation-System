name: Ping HTTP Service

on:
  schedule:
    - cron: "*/5 * * * *" # Runs every 5 minutes

jobs:
  ping-service:
    runs-on: ubuntu-latest
    steps:
      - name: Send HTTP request
        id: check_status
        run: |
          response=$(curl -s -o /dev/null -w "%{http_code}" https://siwes-recommendation-backend.onrender.com)
          if [ "$response" -ne 200 ]; then
            echo "Error: Received status $response"
            exit 1
          else
            echo "HTTP 200 OK"
          fi